---
- config:
    - testset: "Snapask UAT test for TW student testsuite"
    - variable_binds: {Username: 'tw_stu_120384_02',tut_Username: 'tw_tut_120346_01', Password: 'Password', SubjectsID: '20', TopicsID: '84', DeviceID: '23eedf09c41d20ba', DeviceToken: 'fKlcrZgmJOE%3AAPA91bFcsvPICmRac42S35jx7VcoNvwU-gN75bYt9Q0ZfM9V0FtBEkjsIGo1Jru-Gu4m3998vfqoOtHDV1Zhwh9IG4BJ_CnU4Sdkv45CLytn-q1Mq5JG-AUiEV7AxkRXYPsk5oIh1PCv', DefaultAuthToken: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX3Nlc3Npb25faWQiOjY2ODI3LCJ1c2VyX2FnZW50Ijp7ImRldmljZV9pZCI6IjIzZWVkZjA5YzQxZDIwYmEiLCJvcyI6ImFuZHJvaWQiLCJwbGF0Zm9ybSI6ImFwcCJ9LCJpc3MiOiJTbmFwYXNrIENvLiwgTHRkLiB8IFVBVCJ9.DtLwhhBkGkJO4PDoVn9nO2IuhYvTSsdiOiXpH65Qy_w'}
    - generators:  
        # Generator named 'QuestionMsg' which is used for question message
        - 'QuestionMsg': {type: 'random_text', characters: abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890, min_length: 50, max_length: 80}
    - timeout: 5
#TW student default config, simulate Android login with stastic Username/Password/QZ_subject/QZ_topic/DeviceID/DeviceToken and an expired AuthToken.


###############################################################
############## UAT Android login testsuite START ##############
###############################################################
- test:
    - group: "UAT Android login testsuite"
    - name: "app_launch before login"
    - url: "/api/v2/app_launch"
    - method: "POST"
    - headers: {template: {'Snapask-Authorization': 'Bearer $DefaultAuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - expected_status: [403,404]
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'error'}
        - extract_test: {jsonpath_mini: "error_code",  test: "exists"}
        - extract_test: {jsonpath_mini: "response",  test: "exists"}
#Login with expired AuthToken and expect to see login fail.

- test:
    - group: "UAT Android login testsuite"
    - name: "student login"
    - url: "/api/v2/login"
    - method: "POST"
    - body: {template: '{"password": "$Password","account": "$Username","device_type": "android","lang": "en-US"}'}
    - headers: {template: {'Content-Type': 'application/json','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - extract_binds:
        - 'AuthToken': {'jsonpath_mini': 'data.jwt'}
        - 'SnapaskUID': {'jsonpath_mini': 'data.user.snapask_uid'}
        - 'AvailableQuota': {'jsonpath_mini': 'data.available_quota'}
        - 'SubscriptionQuota': {'jsonpath_mini': 'data.subscription_quota'}
        - 'WithoutSubscriptionQuota': {'jsonpath_mini': 'data.without_subscription_quota'}
        - 'Email': {'jsonpath_mini': 'data.user.email'}
        - 'CountryCode': {'jsonpath_mini': 'data.user.country_code'}
        - 'Phone': {'jsonpath_mini': 'data.user.phone'}
        - 'ProfilePicUrl': {'jsonpath_mini': 'data.user.profile_pic_url'}
        - 'Dob': {'jsonpath_mini': 'data.user.dob'}
        - 'Gender': {'jsonpath_mini': 'data.user.gender'}
        - 'RoleName': {'jsonpath_mini': 'data.user.role.name'}
        - 'FirstName': {'jsonpath_mini': 'data.user.first_name'}
        - 'LastName': {'jsonpath_mini': 'data.user.last_name'}
        - 'RegionId': {'jsonpath_mini': 'data.user.region.id'}
        - 'RegionName': {'jsonpath_mini': 'data.user.region.name'}
        - 'RegionFullName': {'jsonpath_mini': 'data.user.region.full_name'}
        - 'RegionQuiz': {'jsonpath_mini': 'data.user.region.is_have_quiz'}
        - 'DisablePost': {'jsonpath_mini': 'data.user.disable_post'}
        - 'SchoolName': {'jsonpath_mini': 'data.user.school_name'}
        - 'ReferralCode': {'jsonpath_mini': 'data.user.referral_code'}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.available_quota", comparator: "ge", expected: 0}
        - compare: {jsonpath_mini: "data.subscription_quota", comparator: "ge", expected: 0}
        - compare: {jsonpath_mini: "data.without_subscription_quota", comparator: "ge", expected: 0}
        - extract_test: {jsonpath_mini: "data.user.snapask_uid",  test: "exists"}
        - compare: {jsonpath_mini: "data.user.email", comparator: "contains", expected: '@'}
        - compare: {jsonpath_mini: "data.user.country_code", comparator: "gt", expected: 0}
        - extract_test: {jsonpath_mini: "data.user.phone",  test: "exists"}
        - extract_test: {jsonpath_mini: "data.user.profile_pic_url",  test: "exists"}
        - compare: {jsonpath_mini: "data.user.role.name", comparator: "str_eq", expected: "Student"}
        - compare: {jsonpath_mini: "data.user.username", comparator: "str_eq", expected: {template: $Username}}
        - compare: {jsonpath_mini: "data.user.region.id", comparator: "eq", expected: 2}
        - compare: {jsonpath_mini: "data.user.region.name", comparator: "str_eq", expected: 'tw'}
        - compare: {jsonpath_mini: "data.user.region.full_name", comparator: "str_eq", expected: 'Taiwan'}
        - compare: {jsonpath_mini: "data.user.region.is_have_quiz", comparator: "eq", expected: true}
        - compare: {jsonpath_mini: "data.user.disable_post", comparator: "eq", expected: false}
        - extract_test: {jsonpath_mini: "data.user.curriculum",  test: "exists"}
        - extract_test: {jsonpath_mini: "data.user.referral_code",  test: "exists"}
        - extract_test: {jsonpath_mini: "data.user.weak_subjects",  test: "exists"}
#Login with student account and get AuthToken for following testcases to use. Also save the login info to verify in app_launch.

- test:
    - group: "UAT Android login testsuite"
    - name: "tutor login"
    - url: "/api/v2/login"
    - method: "POST"
    - body: {template: '{"password": "$Password","account": "$tut_Username","device_type": "android","lang": "en-US"}'}
    - headers: {template: {'Content-Type': 'application/json','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - extract_binds:
        - 'tut_AuthToken': {'jsonpath_mini': 'data.jwt'}
        - 'tut_SnapaskUID': {'jsonpath_mini': 'data.user.snapask_uid'}
#Login with tutor account and get AuthToken for following testcases to use.

- test:
    - group: "UAT Android login testsuite"
    - name: "check app_launch"
    - url: "/api/v2/app_launch"
    - method: "POST"
    - body: '{"lang": "en-US"}'
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.available_quota", comparator: "str_eq", expected: {template: $AvailableQuota}}
        - compare: {jsonpath_mini: "data.subscription_quota", comparator: "str_eq", expected: {template: $SubscriptionQuota}}
        - compare: {jsonpath_mini: "data.without_subscription_quota", comparator: "str_eq", expected: {template: $WithoutSubscriptionQuota}}
        - compare: {jsonpath_mini: "data.user.snapask_uid", comparator: "str_eq", expected: {template: $SnapaskUID}}
        - compare: {jsonpath_mini: "data.user.email", comparator: "str_eq", expected: {template: $Email}}
        - compare: {jsonpath_mini: "data.user.country_code", comparator: "str_eq", expected: {template: $CountryCode}}
        - compare: {jsonpath_mini: "data.user.phone", comparator: "str_eq", expected: {template: $Phone}}
        - compare: {jsonpath_mini: "data.user.profile_pic_url", comparator: "str_eq", expected: {template: $ProfilePicUrl}}
        - compare: {jsonpath_mini: "data.user.dob", comparator: "str_eq", expected: {template: $Dob}}
        - compare: {jsonpath_mini: "data.user.gender", comparator: "str_eq", expected: {template: $Gender}}
        - compare: {jsonpath_mini: "data.user.role.name", comparator: "str_eq", expected: {template: $RoleName}}
        - compare: {jsonpath_mini: "data.user.username", comparator: "str_eq", expected: {template: $Username}}
        - compare: {jsonpath_mini: "data.user.region.id", comparator: "str_eq", expected: {template: $RegionId}}
        - compare: {jsonpath_mini: "data.user.region.name", comparator: "str_eq", expected: {template: $RegionName}}
        - compare: {jsonpath_mini: "data.user.region.full_name", comparator: "str_eq", expected: {template: $RegionFullName}}
        - compare: {jsonpath_mini: "data.user.region.is_have_quiz", comparator: "str_eq", expected: {template: $RegionQuiz}}
        - compare: {jsonpath_mini: "data.user.disable_post", comparator: "str_eq", expected: {template: $DisablePost}}
        - compare: {jsonpath_mini: "data.user.school_name", comparator: "str_eq", expected: {template: $SchoolName}}
        - extract_test: {jsonpath_mini: "data.user.curriculum",  test: "exists"}
        - compare: {jsonpath_mini: "data.user.referral_code", comparator: "str_eq", expected: {template: $ReferralCode}}
        - extract_test: {jsonpath_mini: "data.user.weak_subjects",  test: "exists"}
        - compare: {jsonpath_mini: "data.subjects.0.id", comparator: "eq", expected: 16}
        - compare: {jsonpath_mini: "data.subjects.0.abbr", comparator: "str_eq", expected: "Math"}
        - compare: {jsonpath_mini: "data.subjects.0.description", comparator: "eq", expected: "數學"}
        - compare: {jsonpath_mini: "data.subjects.0.minimum_credits_required", comparator: "eq", expected: 40}
        - compare: {jsonpath_mini: "data.subjects.0.bg_color", comparator: "str_eq", expected: "#ffffff"}
        - compare: {jsonpath_mini: "data.subjects.0.icon_color", comparator: "str_eq", expected: "#000000"}
        - compare: {jsonpath_mini: "data.subjects.0.text_color", comparator: "str_eq", expected: "#000000"}
        - compare: {jsonpath_mini: "data.subjects.0.is_default", comparator: "eq", expected: false}
        - compare: {jsonpath_mini: "data.subjects.0.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/016/medium/16_math.png?1484902736"}
        - compare: {jsonpath_mini: "data.subjects.0.topic_count", comparator: "eq", expected: 6}
        - compare: {jsonpath_mini: "data.subjects.0.is_show_quizzes", comparator: "eq", expected: true}
        - compare: {jsonpath_mini: "data.subjects.1.id", comparator: "eq", expected: 20}
        - compare: {jsonpath_mini: "data.subjects.1.abbr", comparator: "str_eq", expected: "English"}
        - compare: {jsonpath_mini: "data.subjects.1.description", comparator: "eq", expected: "英文"}
        - compare: {jsonpath_mini: "data.subjects.1.minimum_credits_required", comparator: "eq", expected: 40}
        - compare: {jsonpath_mini: "data.subjects.1.bg_color", comparator: "str_eq", expected: "#ff9300"}
        - compare: {jsonpath_mini: "data.subjects.1.icon_color", comparator: "str_eq", expected: "#ffffff"}
        - compare: {jsonpath_mini: "data.subjects.1.text_color", comparator: "str_eq", expected: "#000000"}
        - compare: {jsonpath_mini: "data.subjects.1.is_default", comparator: "eq", expected: null}
        - compare: {jsonpath_mini: "data.subjects.1.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/020/medium/20_english.png?1484902997"}
        - compare: {jsonpath_mini: "data.subjects.1.topic_count", comparator: "eq", expected: 4}
        - compare: {jsonpath_mini: "data.subjects.1.is_show_quizzes", comparator: "eq", expected: true}
        - compare: {jsonpath_mini: "data.subjects.2.id", comparator: "eq", expected: 19}
        - compare: {jsonpath_mini: "data.subjects.2.abbr", comparator: "str_eq", expected: "Biology"}
        - compare: {jsonpath_mini: "data.subjects.2.description", comparator: "eq", expected: "生物"}
        - compare: {jsonpath_mini: "data.subjects.2.minimum_credits_required", comparator: "eq", expected: 40}
        - compare: {jsonpath_mini: "data.subjects.2.bg_color", comparator: "str_eq", expected: "#ff573e"}
        - compare: {jsonpath_mini: "data.subjects.2.icon_color", comparator: "str_eq", expected: "#ffffff"}
        - compare: {jsonpath_mini: "data.subjects.2.text_color", comparator: "str_eq", expected: "#000000"}
        - compare: {jsonpath_mini: "data.subjects.2.is_default", comparator: "eq", expected: null}
        - compare: {jsonpath_mini: "data.subjects.2.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/019/medium/19_biology.png?1484902972"}
        - compare: {jsonpath_mini: "data.subjects.2.topic_count", comparator: "eq", expected: 0}
        - compare: {jsonpath_mini: "data.subjects.2.is_show_quizzes", comparator: "eq", expected: false}
        - compare: {jsonpath_mini: "data.subjects.3.id", comparator: "eq", expected: 18}
        - compare: {jsonpath_mini: "data.subjects.3.abbr", comparator: "str_eq", expected: "Chemistry"}
        - compare: {jsonpath_mini: "data.subjects.3.description", comparator: "eq", expected: "化學"}
        - compare: {jsonpath_mini: "data.subjects.3.minimum_credits_required", comparator: "eq", expected: 40}
        - compare: {jsonpath_mini: "data.subjects.3.bg_color", comparator: "str_eq", expected: "#5bc8fb"}
        - compare: {jsonpath_mini: "data.subjects.3.icon_color", comparator: "str_eq", expected: "#ffffff"}
        - compare: {jsonpath_mini: "data.subjects.3.text_color", comparator: "str_eq", expected: "#000000"}
        - compare: {jsonpath_mini: "data.subjects.3.is_default", comparator: "eq", expected: null}
        - compare: {jsonpath_mini: "data.subjects.3.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/018/medium/18_chemistry.png?1484902939"}
        - compare: {jsonpath_mini: "data.subjects.3.topic_count", comparator: "eq", expected: 0}
        - compare: {jsonpath_mini: "data.subjects.3.is_show_quizzes", comparator: "eq", expected: true}
        - compare: {jsonpath_mini: "data.subjects.4.id", comparator: "eq", expected: 25}
        - compare: {jsonpath_mini: "data.subjects.4.abbr", comparator: "str_eq", expected: "Chinese"}
        - compare: {jsonpath_mini: "data.subjects.4.description", comparator: "eq", expected: "國文"}
        - compare: {jsonpath_mini: "data.subjects.4.minimum_credits_required", comparator: "eq", expected: 40}
        - compare: {jsonpath_mini: "data.subjects.4.bg_color", comparator: "str_eq", expected: "#ff2a6b"}
        - compare: {jsonpath_mini: "data.subjects.4.icon_color", comparator: "str_eq", expected: "#ffffff"}
        - compare: {jsonpath_mini: "data.subjects.4.text_color", comparator: "str_eq", expected: "#000000"}
        - compare: {jsonpath_mini: "data.subjects.4.is_default", comparator: "eq", expected: null}
        - compare: {jsonpath_mini: "data.subjects.4.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/025/medium/25_chinese.png?1484903159"}
        - compare: {jsonpath_mini: "data.subjects.4.topic_count", comparator: "eq", expected: 0}
        - compare: {jsonpath_mini: "data.subjects.4.is_show_quizzes", comparator: "eq", expected: true}
        - compare: {jsonpath_mini: "data.subjects.5.id", comparator: "eq", expected: 24}
        - compare: {jsonpath_mini: "data.subjects.5.abbr", comparator: "str_eq", expected: "Civic"}
        - compare: {jsonpath_mini: "data.subjects.5.description", comparator: "eq", expected: "公民"}
        - compare: {jsonpath_mini: "data.subjects.5.minimum_credits_required", comparator: "eq", expected: 40}
        - compare: {jsonpath_mini: "data.subjects.5.bg_color", comparator: "str_eq", expected: "#53edc8"}
        - compare: {jsonpath_mini: "data.subjects.5.icon_color", comparator: "str_eq", expected: "#ffffff"}
        - compare: {jsonpath_mini: "data.subjects.5.text_color", comparator: "str_eq", expected: "#000000"}
        - compare: {jsonpath_mini: "data.subjects.5.is_default", comparator: "eq", expected: null}
        - compare: {jsonpath_mini: "data.subjects.5.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/024/medium/24_civic.png?1484903141"}
        - compare: {jsonpath_mini: "data.subjects.5.topic_count", comparator: "eq", expected: 0}
        - compare: {jsonpath_mini: "data.subjects.5.is_show_quizzes", comparator: "eq", expected: false}
        - compare: {jsonpath_mini: "data.subjects.6.id", comparator: "eq", expected: 21}
        - compare: {jsonpath_mini: "data.subjects.6.abbr", comparator: "str_eq", expected: "Earth"}
        - compare: {jsonpath_mini: "data.subjects.6.description", comparator: "eq", expected: "地科"}
        - compare: {jsonpath_mini: "data.subjects.6.minimum_credits_required", comparator: "eq", expected: 40}
        - compare: {jsonpath_mini: "data.subjects.6.bg_color", comparator: "str_eq", expected: "#c543fb"}
        - compare: {jsonpath_mini: "data.subjects.6.icon_color", comparator: "str_eq", expected: "#ffffff"}
        - compare: {jsonpath_mini: "data.subjects.6.text_color", comparator: "str_eq", expected: "#000000"}
        - compare: {jsonpath_mini: "data.subjects.6.is_default", comparator: "eq", expected: null}
        - compare: {jsonpath_mini: "data.subjects.6.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/021/medium/21_earth.png?1484903059"}
        - compare: {jsonpath_mini: "data.subjects.6.topic_count", comparator: "eq", expected: 0}
        - compare: {jsonpath_mini: "data.subjects.6.is_show_quizzes", comparator: "eq", expected: false}
        - compare: {jsonpath_mini: "data.subjects.7.id", comparator: "eq", expected: 23}
        - compare: {jsonpath_mini: "data.subjects.7.abbr", comparator: "str_eq", expected: "Geography"}
        - compare: {jsonpath_mini: "data.subjects.7.description", comparator: "eq", expected: "地理"}
        - compare: {jsonpath_mini: "data.subjects.7.minimum_credits_required", comparator: "eq", expected: 40}
        - compare: {jsonpath_mini: "data.subjects.7.bg_color", comparator: "str_eq", expected: "#ef4db5"}
        - compare: {jsonpath_mini: "data.subjects.7.icon_color", comparator: "str_eq", expected: "#ffffff"}
        - compare: {jsonpath_mini: "data.subjects.7.text_color", comparator: "str_eq", expected: "#000000"}
        - compare: {jsonpath_mini: "data.subjects.7.is_default", comparator: "eq", expected: null}
        - compare: {jsonpath_mini: "data.subjects.7.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/023/medium/23_geography.png?1484903126"}
        - compare: {jsonpath_mini: "data.subjects.7.topic_count", comparator: "eq", expected: 0}
        - compare: {jsonpath_mini: "data.subjects.7.is_show_quizzes", comparator: "eq", expected: false}
        - compare: {jsonpath_mini: "data.subjects.8.id", comparator: "eq", expected: 22}
        - compare: {jsonpath_mini: "data.subjects.8.abbr", comparator: "str_eq", expected: "History"}
        - compare: {jsonpath_mini: "data.subjects.8.description", comparator: "eq", expected: "歷史"}
        - compare: {jsonpath_mini: "data.subjects.8.minimum_credits_required", comparator: "eq", expected: 40}
        - compare: {jsonpath_mini: "data.subjects.8.bg_color", comparator: "str_eq", expected: "#fad000"}
        - compare: {jsonpath_mini: "data.subjects.8.icon_color", comparator: "str_eq", expected: "#ffffff"}
        - compare: {jsonpath_mini: "data.subjects.8.text_color", comparator: "str_eq", expected: "#000000"}
        - compare: {jsonpath_mini: "data.subjects.8.is_default", comparator: "eq", expected: null}
        - compare: {jsonpath_mini: "data.subjects.8.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/022/medium/22_history.png?1484903101"}
        - compare: {jsonpath_mini: "data.subjects.8.topic_count", comparator: "eq", expected: 0}
        - compare: {jsonpath_mini: "data.subjects.8.is_show_quizzes", comparator: "eq", expected: false}
        - compare: {jsonpath_mini: "data.subjects.9.id", comparator: "eq", expected: 17}
        - compare: {jsonpath_mini: "data.subjects.9.abbr", comparator: "str_eq", expected: "Physics"}
        - compare: {jsonpath_mini: "data.subjects.9.description", comparator: "eq", expected: "物理"}
        - compare: {jsonpath_mini: "data.subjects.9.minimum_credits_required", comparator: "eq", expected: 40}
        - compare: {jsonpath_mini: "data.subjects.9.bg_color", comparator: "str_eq", expected: "#ff2a6b"}
        - compare: {jsonpath_mini: "data.subjects.9.icon_color", comparator: "str_eq", expected: "#ffffff"}
        - compare: {jsonpath_mini: "data.subjects.9.text_color", comparator: "str_eq", expected: "#000000"}
        - compare: {jsonpath_mini: "data.subjects.9.is_default", comparator: "eq", expected: null}
        - compare: {jsonpath_mini: "data.subjects.9.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/017/medium/17_physics.png?1484902842"}
        - compare: {jsonpath_mini: "data.subjects.9.topic_count", comparator: "eq", expected: 0}
        - compare: {jsonpath_mini: "data.subjects.9.is_show_quizzes", comparator: "eq", expected: true}
        - compare: {jsonpath_mini: "data.subjects.10.id", comparator: "eq", expected: 27}
        - compare: {jsonpath_mini: "data.subjects.10.abbr", comparator: "str_eq", expected: "Study"}
        - compare: {jsonpath_mini: "data.subjects.10.description", comparator: "eq", expected: "讀書方法"}
        - compare: {jsonpath_mini: "data.subjects.10.minimum_credits_required", comparator: "eq", expected: 40}
        - compare: {jsonpath_mini: "data.subjects.10.bg_color", comparator: "str_eq", expected: "#5cc7fb"}
        - compare: {jsonpath_mini: "data.subjects.10.icon_color", comparator: "str_eq", expected: "#ffffff"}
        - compare: {jsonpath_mini: "data.subjects.10.text_color", comparator: "str_eq", expected: "#000000"}
        - compare: {jsonpath_mini: "data.subjects.10.is_default", comparator: "eq", expected: null}
        - compare: {jsonpath_mini: "data.subjects.10.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/027/medium/27_study.png?1484903203"}
        - compare: {jsonpath_mini: "data.subjects.10.topic_count", comparator: "eq", expected: 0}
        - compare: {jsonpath_mini: "data.subjects.10.is_show_quizzes", comparator: "eq", expected: false}
        - extract_test: {jsonpath_mini: "data.subscriptions",  test: "exists"}
        - compare: {jsonpath_mini: "data.search_subjects.0.filter_name", comparator: "eq", expected: "公民"}
        - compare: {jsonpath_mini: "data.search_subjects.0.search_ids.0", comparator: "eq", expected: 24}
        - compare: {jsonpath_mini: "data.search_subjects.0.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/024/medium/24_civic.png?1484903141"}
        - compare: {jsonpath_mini: "data.search_subjects.1.filter_name", comparator: "eq", expected: "化學"}
        - compare: {jsonpath_mini: "data.search_subjects.1.search_ids.0", comparator: "eq", expected: 18}
        - compare: {jsonpath_mini: "data.search_subjects.1.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/018/medium/18_chemistry.png?1484902939"}
        - compare: {jsonpath_mini: "data.search_subjects.2.filter_name", comparator: "eq", expected: "國文"}
        - compare: {jsonpath_mini: "data.search_subjects.2.search_ids.0", comparator: "eq", expected: 25}
        - compare: {jsonpath_mini: "data.search_subjects.2.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/025/medium/25_chinese.png?1484903159"}
        - compare: {jsonpath_mini: "data.search_subjects.3.filter_name", comparator: "eq", expected: "地理"}
        - compare: {jsonpath_mini: "data.search_subjects.3.search_ids.0", comparator: "eq", expected: 23}
        - compare: {jsonpath_mini: "data.search_subjects.3.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/023/medium/23_geography.png?1484903126"}
        - compare: {jsonpath_mini: "data.search_subjects.4.filter_name", comparator: "eq", expected: "地科"}
        - compare: {jsonpath_mini: "data.search_subjects.4.search_ids.0", comparator: "eq", expected: 21}
        - compare: {jsonpath_mini: "data.search_subjects.4.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/021/medium/21_earth.png?1484903059"}
        - compare: {jsonpath_mini: "data.search_subjects.5.filter_name", comparator: "eq", expected: "數學"}
        - compare: {jsonpath_mini: "data.search_subjects.5.search_ids.0", comparator: "eq", expected: 16}
        - compare: {jsonpath_mini: "data.search_subjects.5.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/016/medium/16_math.png?1484902736"}
        - compare: {jsonpath_mini: "data.search_subjects.6.filter_name", comparator: "eq", expected: "歷史"}
        - compare: {jsonpath_mini: "data.search_subjects.6.search_ids.0", comparator: "eq", expected: 22}
        - compare: {jsonpath_mini: "data.search_subjects.6.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/022/medium/22_history.png?1484903101"}
        - compare: {jsonpath_mini: "data.search_subjects.7.filter_name", comparator: "eq", expected: "物理"}
        - compare: {jsonpath_mini: "data.search_subjects.7.search_ids.0", comparator: "eq", expected: 17}
        - compare: {jsonpath_mini: "data.search_subjects.7.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/017/medium/17_physics.png?1484902842"}
        - compare: {jsonpath_mini: "data.search_subjects.8.filter_name", comparator: "eq", expected: "生物"}
        - compare: {jsonpath_mini: "data.search_subjects.8.search_ids.0", comparator: "eq", expected: 19}
        - compare: {jsonpath_mini: "data.search_subjects.8.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/019/medium/19_biology.png?1484902972"}
        - compare: {jsonpath_mini: "data.search_subjects.9.filter_name", comparator: "eq", expected: "英文"}
        - compare: {jsonpath_mini: "data.search_subjects.9.search_ids.0", comparator: "eq", expected: 20}
        - compare: {jsonpath_mini: "data.search_subjects.9.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/020/medium/20_english.png?1484902997"}
        - compare: {jsonpath_mini: "data.search_subjects.10.filter_name", comparator: "eq", expected: "讀書方法"}
        - compare: {jsonpath_mini: "data.search_subjects.10.search_ids.0", comparator: "eq", expected: 27}
        - compare: {jsonpath_mini: "data.search_subjects.10.icon_pic_url", comparator: "str_eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/subjects/icon_pics/000/000/027/medium/27_study.png?1484903203"}
        - compare: {jsonpath_mini: "data.rate_messages.score1.0.id", comparator: "eq", expected: 1}
        - compare: {jsonpath_mini: "data.rate_messages.score1.0.message", comparator: "str_eq", expected: "Unresponsive"}
        - compare: {jsonpath_mini: "data.rate_messages.score1.0.order", comparator: "eq", expected: 1}
        - compare: {jsonpath_mini: "data.rate_messages.score1.1.id", comparator: "eq", expected: 2}
        - compare: {jsonpath_mini: "data.rate_messages.score1.1.message", comparator: "str_eq", expected: "Confusing"}
        - compare: {jsonpath_mini: "data.rate_messages.score1.1.order", comparator: "eq", expected: 2}
        - compare: {jsonpath_mini: "data.rate_messages.score1.2.id", comparator: "eq", expected: 3}
        - compare: {jsonpath_mini: "data.rate_messages.score1.2.message", comparator: "str_eq", expected: "Unprofessional"}
        - compare: {jsonpath_mini: "data.rate_messages.score1.2.order", comparator: "eq", expected: 3}
        - compare: {jsonpath_mini: "data.rate_messages.score1.3.id", comparator: "eq", expected: 4}
        - compare: {jsonpath_mini: "data.rate_messages.score1.3.message", comparator: "str_eq", expected: "Unfriendly"}
        - compare: {jsonpath_mini: "data.rate_messages.score1.3.order", comparator: "eq", expected: 4}
        - compare: {jsonpath_mini: "data.rate_messages.score2.0.id", comparator: "eq", expected: 5}
        - compare: {jsonpath_mini: "data.rate_messages.score2.0.message", comparator: "str_eq", expected: "Unresponsive"}
        - compare: {jsonpath_mini: "data.rate_messages.score2.0.order", comparator: "eq", expected: 1}
        - compare: {jsonpath_mini: "data.rate_messages.score2.1.id", comparator: "eq", expected: 6}
        - compare: {jsonpath_mini: "data.rate_messages.score2.1.message", comparator: "str_eq", expected: "Confusing"}
        - compare: {jsonpath_mini: "data.rate_messages.score2.1.order", comparator: "eq", expected: 2}
        - compare: {jsonpath_mini: "data.rate_messages.score2.2.id", comparator: "eq", expected: 7}
        - compare: {jsonpath_mini: "data.rate_messages.score2.2.message", comparator: "str_eq", expected: "Unprofessional"}
        - compare: {jsonpath_mini: "data.rate_messages.score2.2.order", comparator: "eq", expected: 3}
        - compare: {jsonpath_mini: "data.rate_messages.score2.3.id", comparator: "eq", expected: 8}
        - compare: {jsonpath_mini: "data.rate_messages.score2.3.message", comparator: "str_eq", expected: "Unfriendly"}
        - compare: {jsonpath_mini: "data.rate_messages.score2.3.order", comparator: "eq", expected: 4}
        - compare: {jsonpath_mini: "data.rate_messages.score3.0.id", comparator: "eq", expected: 9}
        - compare: {jsonpath_mini: "data.rate_messages.score3.0.message", comparator: "str_eq", expected: "Responsive"}
        - compare: {jsonpath_mini: "data.rate_messages.score3.0.order", comparator: "eq", expected: 1}
        - compare: {jsonpath_mini: "data.rate_messages.score3.1.id", comparator: "eq", expected: 10}
        - compare: {jsonpath_mini: "data.rate_messages.score3.1.message", comparator: "str_eq", expected: "Knowledgable"}
        - compare: {jsonpath_mini: "data.rate_messages.score3.1.order", comparator: "eq", expected: 2}
        - compare: {jsonpath_mini: "data.rate_messages.score3.2.id", comparator: "eq", expected: 11}
        - compare: {jsonpath_mini: "data.rate_messages.score3.2.message", comparator: "str_eq", expected: "Helpful"}
        - compare: {jsonpath_mini: "data.rate_messages.score3.2.order", comparator: "eq", expected: 3}
        - compare: {jsonpath_mini: "data.rate_messages.score3.3.id", comparator: "eq", expected: 12}
        - compare: {jsonpath_mini: "data.rate_messages.score3.3.message", comparator: "str_eq", expected: "Friendly"}
        - compare: {jsonpath_mini: "data.rate_messages.score3.3.order", comparator: "eq", expected: 4}
        - compare: {jsonpath_mini: "data.rate_messages.score4.0.id", comparator: "eq", expected: 13}
        - compare: {jsonpath_mini: "data.rate_messages.score4.0.message", comparator: "str_eq", expected: "Responsive"}
        - compare: {jsonpath_mini: "data.rate_messages.score4.0.order", comparator: "eq", expected: 1}
        - compare: {jsonpath_mini: "data.rate_messages.score4.1.id", comparator: "eq", expected: 14}
        - compare: {jsonpath_mini: "data.rate_messages.score4.1.message", comparator: "str_eq", expected: "Knowledgable"}
        - compare: {jsonpath_mini: "data.rate_messages.score4.1.order", comparator: "eq", expected: 2}
        - compare: {jsonpath_mini: "data.rate_messages.score4.2.id", comparator: "eq", expected: 15}
        - compare: {jsonpath_mini: "data.rate_messages.score4.2.message", comparator: "str_eq", expected: "Helpful"}
        - compare: {jsonpath_mini: "data.rate_messages.score4.2.order", comparator: "eq", expected: 3}
        - compare: {jsonpath_mini: "data.rate_messages.score4.3.id", comparator: "eq", expected: 16}
        - compare: {jsonpath_mini: "data.rate_messages.score4.3.message", comparator: "str_eq", expected: "Friendly"}
        - compare: {jsonpath_mini: "data.rate_messages.score4.3.order", comparator: "eq", expected: 4}
        - compare: {jsonpath_mini: "data.rate_messages.score5.0.id", comparator: "eq", expected: 17}
        - compare: {jsonpath_mini: "data.rate_messages.score5.0.message", comparator: "str_eq", expected: "Responsive"}
        - compare: {jsonpath_mini: "data.rate_messages.score5.0.order", comparator: "eq", expected: 1}
        - compare: {jsonpath_mini: "data.rate_messages.score5.1.id", comparator: "eq", expected: 18}
        - compare: {jsonpath_mini: "data.rate_messages.score5.1.message", comparator: "str_eq", expected: "Knowledgable"}
        - compare: {jsonpath_mini: "data.rate_messages.score5.1.order", comparator: "eq", expected: 2}
        - compare: {jsonpath_mini: "data.rate_messages.score5.2.id", comparator: "eq", expected: 19}
        - compare: {jsonpath_mini: "data.rate_messages.score5.2.message", comparator: "str_eq", expected: "Helpful"}
        - compare: {jsonpath_mini: "data.rate_messages.score5.2.order", comparator: "eq", expected: 3}
        - compare: {jsonpath_mini: "data.rate_messages.score5.3.id", comparator: "eq", expected: 20}
        - compare: {jsonpath_mini: "data.rate_messages.score5.3.message", comparator: "str_eq", expected: "Friendly"}
        - compare: {jsonpath_mini: "data.rate_messages.score5.3.order", comparator: "eq", expected: 4}
#Verify app_lunch

- test:
    - group: "UAT Android login testsuite"
    - name: "check update_push_subscription"
    - url: "api/v2/update_push_subscription"
    - method: "POST"
    - body: {template: '{"push_platform": "gcm","device_token": "$DeviceToken"}'}
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - extract_binds:
        - 'DeviceToken': {'jsonpath_mini': 'data.amazon_sns_info.device_token'}
        - 'EndpointArn': {'jsonpath_mini': 'data.amazon_sns_info.endpoint_arn'}
        - 'PlatformApplicationArn': {'jsonpath_mini': 'data.amazon_sns_info.platform_application_arn'}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.amazon_sns_info.snapask_uid", comparator: "str_eq", expected: {template: $SnapaskUID}}
        - compare: {jsonpath_mini: "data.amazon_sns_info.platform", comparator: "str_eq", expected: "gcm"}
        - extract_test: {jsonpath_mini: "data.amazon_sns_info.device_token",  test: "exists"}
        - extract_test: {jsonpath_mini: "data.amazon_sns_info.endpoint_arn",  test: "exists"}
        - extract_test: {jsonpath_mini: "data.amazon_sns_info.platform_application_arn",  test: "exists"}
        - extract_test: {jsonpath_mini: "data.amazon_sns_info.subscribed_topics",  test: "exists"}
        - compare: {jsonpath_mini: "data.amazon_sns_info.subscribed_topics.logout", comparator: "eq", expected: false}
#verify gcm push notification data

- test:
    - group: "UAT Android login testsuite"
    - name: "check is_new_quizzes"
    - url: {template: "/api/v2/students/$SnapaskUID/is_new_quizzes"}
    - method: "GET"
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - validators:
        - extract_test: {jsonpath_mini: "data.is_new_quizzes",  test: "exists"}
#verify new quiz
#TODO: if is_new_quizzes = true, client then would call /api/v2/students/$SnapaskUID/quizzes/check_new and get new topic info. However, once been called the API, is_new_quizzes will would become false. Need to find a way to test it consistently.

- test:
    - group: "UAT Android login testsuite"
    - name: "check referre_quota"
    - url: {template: "/api/v2/students/$SnapaskUID/referre_quota"}
    - method: "GET"
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.referre_quota", comparator: "ge", expected: 0}
        - compare: {jsonpath_mini: "data.available_quota", comparator: "str_eq", expected: {template: $AvailableQuota}}
        - compare: {jsonpath_mini: "data.subscription_quota", comparator: "str_eq", expected: {template: $SubscriptionQuota}}
        - compare: {jsonpath_mini: "data.without_subscription_quota", comparator: "str_eq", expected: {template: $WithoutSubscriptionQuota}}
#verify referre_quota

- test:
    - group: "UAT Android login testsuite"
    - name: "check quota"
    - url: {template: "/api/v2/students/$SnapaskUID/quotas"}
    - method: "GET"
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.available_quota", comparator: "str_eq", expected: {template: $AvailableQuota}}
        - compare: {jsonpath_mini: "data.subscription_quota", comparator: "str_eq", expected: {template: $SubscriptionQuota}}
        - compare: {jsonpath_mini: "data.without_subscription_quota", comparator: "str_eq", expected: {template: $WithoutSubscriptionQuota}}
#verify quota
#############################################################
############## UAT Android login testsuite END ##############
#############################################################
#################################################################
############## UAT Android QZ Redo testsuite START ##############
#################################################################
#Notice: The database of Quizz may change. The sequence of recommended quiz is based on correct percentage. Script may be failed due to this.

- test:
    - group: "UAT Android QZ Redo testsuite"
    - name: "Get English quizzes 1"
    - url: {template: "/api/v2/students/$SnapaskUID/quizzes"}
    - method: "PUT"
    - body: {template: '{"topic_id": "$TopicsID"}'}
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - extract_binds:
        - 'qzID': {'jsonpath_mini': 'data.qzs.0.qz_id'}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.qzs.0.description", comparator: "str_eq", expected: "new new"}
        - compare: {jsonpath_mini: "data.qzs.0.ft_size", comparator: "str_eq", expected: "16"}
        - compare: {jsonpath_mini: "data.qzs.0.ans_text.0", comparator: "str_eq", expected: "1"}
        - compare: {jsonpath_mini: "data.qzs.0.ans_text.1", comparator: "str_eq", expected: "2"}
        - compare: {jsonpath_mini: "data.qzs.0.ans_text.2", comparator: "str_eq", expected: "3"}
        - compare: {jsonpath_mini: "data.qzs.0.ans_text.3", comparator: "str_eq", expected: "4"}
        - compare: {jsonpath_mini: "data.qzs.0.correct_ans", comparator: "eq", expected: 0}
        - compare: {jsonpath_mini: "data.qzs.0.has_latex", comparator: "eq", expected: true}
        - compare: {jsonpath_mini: "data.qzs.0.pass_percentage", comparator: "ge", expected: 0}
        - compare: {jsonpath_mini: "data.qzs.0.from_exam", comparator: "str_eq", expected: english}
        - compare: {jsonpath_mini: "data.qzs.0.from_year.0", comparator: "eq", expected: 2018}
        - compare: {jsonpath_mini: "data.qzs.0.paper_name", comparator: "str_eq", expected: english}
        - compare: {jsonpath_mini: "data.left_in_topic", comparator: "eq", expected: 5}
#Redo English Quiz, 文意選填 and verify response

- test:
    - group: "UAT Android QZ Redo testsuite"
    - name: "POST correct quizzes answer 1"
    - url: {template: "/api/v2/students/$SnapaskUID/quizzes/$qzID/answers"}
    - method: "POST"
    - body: {template: '{"topic_id": "$TopicsID","pass": "true","answer": "0"}'}
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.response", comparator: "str_eq", expected: "OK"}
#Submit correct answer for quiz 1

- test:
    - group: "UAT Android QZ Redo testsuite"
    - name: "Check QZ status"
    - url: {template: "/api/v2/students/$SnapaskUID/subjects/$SubjectsID/topics?device_type=android&lang=en-US"}
    - method: "GET"
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.topics.2.id", comparator: "str_eq", expected: {template: $TopicsID}}
        - compare: {jsonpath_mini: "data.topics.2.name", comparator: "eq", expected: "文意選填"}
        - compare: {jsonpath_mini: "data.topics.2.image_url", comparator: "eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/topics/cover_images/000/000/084/medium/english-topic-03-structure.png?1493276282"}
        - compare: {jsonpath_mini: "data.topics.2.is_weak_topic", comparator: "eq", expected: false}
        - compare: {jsonpath_mini: "data.topics.2.left_in_topic", comparator: "eq", expected: 4}
        - compare: {jsonpath_mini: "data.topics.2.new_tag", comparator: "eq", expected: false}
        - compare: {jsonpath_mini: "data.topics.2.total_count", comparator: "eq", expected: 5}
        - compare: {jsonpath_mini: "data.topics.2.pass_count", comparator: "eq", expected: 1}
        - compare: {jsonpath_mini: "data.topics.2.fail_count", comparator: "eq", expected: 0}
        - compare: {jsonpath_mini: "data.topics.2.skipped_count", comparator: "eq", expected: 0}
#Check QZ status updated as planned

- test:
    - group: "UAT Android QZ Redo testsuite"
    - name: "Get English quizzes 2"
    - url: {template: "/api/v2/students/$SnapaskUID/quizzes?topic_id=$TopicsID&num_of_qzs=1"}
    - method: "GET"
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - extract_binds:
        - 'qzID': {'jsonpath_mini': 'data.qzs.0.qz_id'}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.qzs.0.description", comparator: "eq", expected: "sdfsdf"}
        - compare: {jsonpath_mini: "data.qzs.0.ft_size", comparator: "eq", expected: "16"}
        - compare: {jsonpath_mini: "data.qzs.0.ans_text.0", comparator: "str_eq", expected: "dfsd"}
        - compare: {jsonpath_mini: "data.qzs.0.ans_text.1", comparator: "str_eq", expected: "fdsf"}
        - compare: {jsonpath_mini: "data.qzs.0.ans_text.2", comparator: "str_eq", expected: "fsdf"}
        - compare: {jsonpath_mini: "data.qzs.0.ans_text.3", comparator: "str_eq", expected: "fsdf"}
        - compare: {jsonpath_mini: "data.qzs.0.correct_ans", comparator: "eq", expected: 0}
        - compare: {jsonpath_mini: "data.qzs.0.explanation", comparator: "str_eq", expected: "dsfsdf"}
        - compare: {jsonpath_mini: "data.qzs.0.has_latex", comparator: "eq", expected: false}
        - compare: {jsonpath_mini: "data.qzs.0.pass_percentage", comparator: "ge", expected: 0}
        - compare: {jsonpath_mini: "data.qzs.0.from_exam", comparator: "str_eq", expected: "sdfsd"}
        - compare: {jsonpath_mini: "data.qzs.0.from_year.0", comparator: "eq", expected: 123}
        - compare: {jsonpath_mini: "data.left_in_topic", comparator: "eq", expected: 4}
#Get quiz 2 info

- test:
    - group: "UAT Android QZ Redo testsuite"
    - name: "POST correct quizzes answer 2"
    - url: {template: "/api/v2/students/$SnapaskUID/quizzes/$qzID/answers"}
    - method: "POST"
    - body: {template: '{"topic_id": "$TopicsID","pass": "true","answer": "0"}'}
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.response", comparator: "str_eq", expected: "OK"}
#Submit correct answer for quiz 2

- test:
    - group: "UAT Android QZ Redo testsuite"
    - name: "Check QZ status"
    - url: {template: "/api/v2/students/$SnapaskUID/subjects/$SubjectsID/topics?device_type=android&lang=en-US"}
    - method: "GET"
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.topics.2.id", comparator: "str_eq", expected: {template: $TopicsID}}
        - compare: {jsonpath_mini: "data.topics.2.name", comparator: "eq", expected: "文意選填"}
        - compare: {jsonpath_mini: "data.topics.2.image_url", comparator: "eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/topics/cover_images/000/000/084/medium/english-topic-03-structure.png?1493276282"}
        - compare: {jsonpath_mini: "data.topics.2.is_weak_topic", comparator: "eq", expected: false}
        - compare: {jsonpath_mini: "data.topics.2.left_in_topic", comparator: "eq", expected: 3}
        - compare: {jsonpath_mini: "data.topics.2.new_tag", comparator: "eq", expected: false}
        - compare: {jsonpath_mini: "data.topics.2.total_count", comparator: "eq", expected: 5}
        - compare: {jsonpath_mini: "data.topics.2.pass_count", comparator: "eq", expected: 2}
        - compare: {jsonpath_mini: "data.topics.2.fail_count", comparator: "eq", expected: 0}
        - compare: {jsonpath_mini: "data.topics.2.skipped_count", comparator: "eq", expected: 0}
#Check QZ status updated as planned

- test:
    - group: "UAT Android QZ Redo testsuite"
    - name: "Get English quizzes 3"
    - url: {template: "/api/v2/students/$SnapaskUID/quizzes?topic_id=$TopicsID&num_of_qzs=1"}
    - method: "GET"
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - extract_binds:
        - 'qzID': {'jsonpath_mini': 'data.qzs.0.qz_id'}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.qzs.0.description", comparator: "eq", expected: "【102學測】\r\nGlobal warming is another reason. Higher ocean temperatures kill the important food source for\r\nthe coral—the algae, the tiny greenish-gold water plants that live on coral. When the algae die, the\r\ncoral loses its color and it also dies _____ . "}
        - compare: {jsonpath_mini: "data.qzs.0.ft_size", comparator: "str_eq", expected: "16"}
        - compare: {jsonpath_mini: "data.qzs.0.ans_text.0", comparator: "str_eq", expected: "eventually"}
        - compare: {jsonpath_mini: "data.qzs.0.ans_text.1", comparator: "str_eq", expected: " sadly"}
        - compare: {jsonpath_mini: "data.qzs.0.ans_text.2", comparator: "str_eq", expected: " endangered "}
        - compare: {jsonpath_mini: "data.qzs.0.ans_text.3", comparator: "str_eq", expected: "carry"}
        - compare: {jsonpath_mini: "data.qzs.0.correct_ans", comparator: "eq", expected: 0}
        - compare: {jsonpath_mini: "data.qzs.0.has_latex", comparator: "eq", expected: false}
        - compare: {jsonpath_mini: "data.qzs.0.pass_percentage", comparator: "ge", expected: 0}
        - compare: {jsonpath_mini: "data.left_in_topic", comparator: "eq", expected: 3}
#Get quiz 3 info

- test:
    - group: "UAT Android QZ Redo testsuite"
    - name: "POST correct quizzes answer 3"
    - url: {template: "/api/v2/students/$SnapaskUID/quizzes/$qzID/answers"}
    - method: "POST"
    - body: {template: '{"topic_id": "$TopicsID","pass": "true","answer": "0"}'}
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.response", comparator: "str_eq", expected: "OK"}
#Submit correct answer for quiz 3

- test:
    - group: "UAT Android QZ Redo testsuite"
    - name: "Check QZ status"
    - url: {template: "/api/v2/students/$SnapaskUID/subjects/$SubjectsID/topics?device_type=android&lang=en-US"}
    - method: "GET"
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.topics.2.id", comparator: "str_eq", expected: {template: $TopicsID}}
        - compare: {jsonpath_mini: "data.topics.2.name", comparator: "eq", expected: "文意選填"}
        - compare: {jsonpath_mini: "data.topics.2.image_url", comparator: "eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/topics/cover_images/000/000/084/medium/english-topic-03-structure.png?1493276282"}
        - compare: {jsonpath_mini: "data.topics.2.is_weak_topic", comparator: "eq", expected: false}
        - compare: {jsonpath_mini: "data.topics.2.left_in_topic", comparator: "eq", expected: 2}
        - compare: {jsonpath_mini: "data.topics.2.new_tag", comparator: "eq", expected: false}
        - compare: {jsonpath_mini: "data.topics.2.total_count", comparator: "eq", expected: 5}
        - compare: {jsonpath_mini: "data.topics.2.pass_count", comparator: "eq", expected: 3}
        - compare: {jsonpath_mini: "data.topics.2.fail_count", comparator: "eq", expected: 0}
        - compare: {jsonpath_mini: "data.topics.2.skipped_count", comparator: "eq", expected: 0}
#Check QZ status updated as planned

- test:
    - group: "UAT Android QZ Redo testsuite"
    - name: "Get English quizzes 4"
    - url: {template: "/api/v2/students/$SnapaskUID/quizzes?topic_id=$TopicsID&num_of_qzs=1"}
    - method: "GET"
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - extract_binds:
        - 'qzID': {'jsonpath_mini': 'data.qzs.0.qz_id'}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.qzs.0.description", comparator: "eq", expected: "dfsdf"}
        - compare: {jsonpath_mini: "data.qzs.0.ft_size", comparator: "eq", expected: "16"}
        - compare: {jsonpath_mini: "data.qzs.0.ans_text.0", comparator: "str_eq", expected: "dsfsd"}
        - compare: {jsonpath_mini: "data.qzs.0.ans_text.1", comparator: "str_eq", expected: "fsdf"}
        - compare: {jsonpath_mini: "data.qzs.0.ans_text.2", comparator: "str_eq", expected: "fsdf"}
        - compare: {jsonpath_mini: "data.qzs.0.ans_text.3", comparator: "str_eq", expected: "dfs"}
        - compare: {jsonpath_mini: "data.qzs.0.correct_ans", comparator: "eq", expected: 0}
        - compare: {jsonpath_mini: "data.qzs.0.explanation", comparator: "str_eq", expected: "dsfsdf"}
        - compare: {jsonpath_mini: "data.qzs.0.has_latex", comparator: "eq", expected: false}
        - compare: {jsonpath_mini: "data.qzs.0.pass_percentage", comparator: "ge", expected: 0}
        - compare: {jsonpath_mini: "data.qzs.0.from_exam", comparator: "str_eq", expected: "sdfs"}
        - compare: {jsonpath_mini: "data.qzs.0.from_year.0", comparator: "eq", expected: 2015}
        - compare: {jsonpath_mini: "data.left_in_topic", comparator: "eq", expected: 2}
#Get quiz 4 info

- test:
    - group: "UAT Android QZ Redo testsuite"
    - name: "POST skip quizzes 4"
    - url: {template: "/api/v2/students/$SnapaskUID/quizzes/$qzID/skip"}
    - method: "POST"
    - body: {template: '{"topic_id": "$TopicsID"}'}
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.response", comparator: "str_eq", expected: "OK"}
#Skip answer for quiz 4

- test:
    - group: "UAT Android QZ Redo testsuite"
    - name: "Check QZ status"
    - url: {template: "/api/v2/students/$SnapaskUID/subjects/$SubjectsID/topics?device_type=android&lang=en-US"}
    - method: "GET"
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.topics.2.id", comparator: "str_eq", expected: {template: $TopicsID}}
        - compare: {jsonpath_mini: "data.topics.2.name", comparator: "eq", expected: "文意選填"}
        - compare: {jsonpath_mini: "data.topics.2.image_url", comparator: "eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/topics/cover_images/000/000/084/medium/english-topic-03-structure.png?1493276282"}
        - compare: {jsonpath_mini: "data.topics.2.is_weak_topic", comparator: "eq", expected: false}
        - compare: {jsonpath_mini: "data.topics.2.left_in_topic", comparator: "eq", expected: 1}
        - compare: {jsonpath_mini: "data.topics.2.new_tag", comparator: "eq", expected: false}
        - compare: {jsonpath_mini: "data.topics.2.total_count", comparator: "eq", expected: 5}
        - compare: {jsonpath_mini: "data.topics.2.pass_count", comparator: "eq", expected: 3}
        - compare: {jsonpath_mini: "data.topics.2.fail_count", comparator: "eq", expected: 0}
        - compare: {jsonpath_mini: "data.topics.2.skipped_count", comparator: "eq", expected: 1}
#Check QZ status updated as planned

- test:
    - group: "UAT Android QZ Redo testsuite"
    - name: "Get English quizzes 5"
    - url: {template: "/api/v2/students/$SnapaskUID/quizzes?topic_id=$TopicsID&num_of_qzs=1"}
    - method: "GET"
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - extract_binds:
        - 'qzID': {'jsonpath_mini': 'data.qzs.0.qz_id'}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.qzs.0.description", comparator: "eq", expected: "【105學測】\r\nAre forests always created by nature? A man from rural India proves that this is not necessarily ____"}
        - compare: {jsonpath_mini: "data.qzs.0.ft_size", comparator: "eq", expected: "16"}
        - compare: {jsonpath_mini: "data.qzs.0.ans_text.0", comparator: "str_eq", expected: "true"}
        - compare: {jsonpath_mini: "data.qzs.0.ans_text.1", comparator: "str_eq", expected: "truer"}
        - compare: {jsonpath_mini: "data.qzs.0.ans_text.2", comparator: "str_eq", expected: "trued"}
        - compare: {jsonpath_mini: "data.qzs.0.ans_text.3", comparator: "str_eq", expected: "truing"}
        - compare: {jsonpath_mini: "data.qzs.0.correct_ans", comparator: "eq", expected: 0}
        - compare: {jsonpath_mini: "data.qzs.0.has_latex", comparator: "eq", expected: false}
        - compare: {jsonpath_mini: "data.qzs.0.pass_percentage", comparator: "ge", expected: 0}
        - compare: {jsonpath_mini: "data.left_in_topic", comparator: "eq", expected: 1}
#Get quiz 5 info

- test:
    - group: "UAT Android QZ Redo testsuite"
    - name: "POST incorrect quizzes answer 5"
    - url: {template: "/api/v2/students/$SnapaskUID/quizzes/$qzID/answers"}
    - method: "POST"
    - body: {template: '{"topic_id": "$TopicsID","pass": "false","answer": "1"}'}
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.response", comparator: "str_eq", expected: "OK"}
#Submit incorrect answer for quiz 5

- test:
    - group: "UAT Android QZ Redo testsuite"
    - name: "Check QZ status"
    - url: {template: "/api/v2/students/$SnapaskUID/subjects/$SubjectsID/topics?device_type=android&lang=en-US"}
    - method: "GET"
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.topics.2.id", comparator: "str_eq", expected: {template: $TopicsID}}
        - compare: {jsonpath_mini: "data.topics.2.name", comparator: "eq", expected: "文意選填"}
        - compare: {jsonpath_mini: "data.topics.2.image_url", comparator: "eq", expected: "https://s3-ap-southeast-1.amazonaws.com/attachments.test-consolidation.appedu.co/topics/cover_images/000/000/084/medium/english-topic-03-structure.png?1493276282"}
        - compare: {jsonpath_mini: "data.topics.2.is_weak_topic", comparator: "eq", expected: false}
        - compare: {jsonpath_mini: "data.topics.2.left_in_topic", comparator: "eq", expected: 0}
        - compare: {jsonpath_mini: "data.topics.2.new_tag", comparator: "eq", expected: false}
        - compare: {jsonpath_mini: "data.topics.2.total_count", comparator: "eq", expected: 5}
        - compare: {jsonpath_mini: "data.topics.2.pass_count", comparator: "eq", expected: 3}
        - compare: {jsonpath_mini: "data.topics.2.fail_count", comparator: "eq", expected: 1}
        - compare: {jsonpath_mini: "data.topics.2.skipped_count", comparator: "eq", expected: 1}
#Check QZ status updated as planned

###############################################################
############## UAT Android QZ Redo testsuite END ##############
###############################################################
#################################################################
############## UAT Android Profile testsuite START ##############
#################################################################
- test:
    - group: "UAT Android Profile testsuite"
    - name: "check username availability"
    - url: {template: "/api/v2/users/check/username?username=api_testing&device_type=android&lang=en-US"}
    - method: "GET"
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "response", comparator: "str_eq", expected: 'Username is available.'}
#Check username availability

- test:
    - group: "UAT Android Profile testsuite"
    - name: "update profile"
    - url: {template: "/api/v2/users/$SnapaskUID/update_user_attributes"}
    - method: "PATCH"
    - body: {template: '{"device_type": "android","date_of_birth": "2002-12-31","username": "api_testing","last_name": "Testcase","first_name": "Profile","lang": "en-US","gender": "Female","school_name": "Snappy"}'}
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.available_quota", comparator: "str_eq", expected: {template: $AvailableQuota}}
        - compare: {jsonpath_mini: "data.subscription_quota", comparator: "str_eq", expected: {template: $SubscriptionQuota}}
        - compare: {jsonpath_mini: "data.without_subscription_quota", comparator: "str_eq", expected: {template: $WithoutSubscriptionQuota}}
        - compare: {jsonpath_mini: "data.user.snapask_uid", comparator: "str_eq", expected: {template: $SnapaskUID}}
        - compare: {jsonpath_mini: "data.user.email", comparator: "str_eq", expected: {template: $Email}}
        - compare: {jsonpath_mini: "data.user.country_code", comparator: "str_eq", expected: {template: $CountryCode}}
        - compare: {jsonpath_mini: "data.user.phone", comparator: "str_eq", expected: {template: $Phone}}
        - compare: {jsonpath_mini: "data.user.profile_pic_url", comparator: "str_eq", expected: {template: $ProfilePicUrl}}
        - compare: {jsonpath_mini: "data.user.dob", comparator: "str_eq", expected: {template: "2002-12-31"}}
        - compare: {jsonpath_mini: "data.user.gender", comparator: "str_eq", expected: "Female"}
        - compare: {jsonpath_mini: "data.user.role.name", comparator: "str_eq", expected: {template: $RoleName}}
        - compare: {jsonpath_mini: "data.user.first_name", comparator: "str_eq", expected: "Profile"}
        - compare: {jsonpath_mini: "data.user.last_name", comparator: "str_eq", expected: "Testcase"}
        - compare: {jsonpath_mini: "data.user.username", comparator: "str_eq", expected: "api_testing"}
        - compare: {jsonpath_mini: "data.user.region.id", comparator: "str_eq", expected: {template: $RegionId}}
        - compare: {jsonpath_mini: "data.user.region.name", comparator: "str_eq", expected: {template: $RegionName}}
        - compare: {jsonpath_mini: "data.user.region.full_name", comparator: "str_eq", expected: {template: $RegionFullName}}
        - compare: {jsonpath_mini: "data.user.region.is_have_quiz", comparator: "str_eq", expected: {template: $RegionQuiz}}
        - compare: {jsonpath_mini: "data.user.disable_post", comparator: "str_eq", expected: {template: $DisablePost}}
        - compare: {jsonpath_mini: "data.user.school_name", comparator: "str_eq", expected: "Snappy"}
        - extract_test: {jsonpath_mini: "data.user.curriculum",  test: "exists"}
        - compare: {jsonpath_mini: "data.user.referral_code", comparator: "str_eq", expected: {template: $ReferralCode}}
        - extract_test: {jsonpath_mini: "data.user.weak_subjects",  test: "exists"}
#Modify Profile data

- test:
    - group: "UAT Android Profile testsuite"
    - name: "restore profile"
    - url: {template: "/api/v2/users/$SnapaskUID/update_user_attributes"}
    - method: "PATCH"
    - body: {template: '{"device_type": "android","date_of_birth": "$Dob","username": "$Username","last_name": "$LastName","first_name": "$FirstName","lang": "en-US","gender": "$Gender","school_name": "$SchoolName"}'}
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.available_quota", comparator: "str_eq", expected: {template: $AvailableQuota}}
        - compare: {jsonpath_mini: "data.subscription_quota", comparator: "str_eq", expected: {template: $SubscriptionQuota}}
        - compare: {jsonpath_mini: "data.without_subscription_quota", comparator: "str_eq", expected: {template: $WithoutSubscriptionQuota}}
        - compare: {jsonpath_mini: "data.user.snapask_uid", comparator: "str_eq", expected: {template: $SnapaskUID}}
        - compare: {jsonpath_mini: "data.user.email", comparator: "str_eq", expected: {template: $Email}}
        - compare: {jsonpath_mini: "data.user.country_code", comparator: "str_eq", expected: {template: $CountryCode}}
        - compare: {jsonpath_mini: "data.user.phone", comparator: "str_eq", expected: {template: $Phone}}
        - compare: {jsonpath_mini: "data.user.profile_pic_url", comparator: "str_eq", expected: {template: $ProfilePicUrl}}
        - compare: {jsonpath_mini: "data.user.dob", comparator: "str_eq", expected: {template: $Dob}}
        - compare: {jsonpath_mini: "data.user.gender", comparator: "str_eq", expected: {template: $Gender}}
        - compare: {jsonpath_mini: "data.user.role.name", comparator: "str_eq", expected: {template: $RoleName}}
        - compare: {jsonpath_mini: "data.user.first_name", comparator: "str_eq", expected: {template: $FirstName}}
        - compare: {jsonpath_mini: "data.user.last_name", comparator: "str_eq", expected: {template: $LastName}}
        - compare: {jsonpath_mini: "data.user.username", comparator: "str_eq", expected: {template: $Username}}
        - compare: {jsonpath_mini: "data.user.region.id", comparator: "str_eq", expected: {template: $RegionId}}
        - compare: {jsonpath_mini: "data.user.region.name", comparator: "str_eq", expected: {template: $RegionName}}
        - compare: {jsonpath_mini: "data.user.region.full_name", comparator: "str_eq", expected: {template: $RegionFullName}}
        - compare: {jsonpath_mini: "data.user.region.is_have_quiz", comparator: "str_eq", expected: {template: $RegionQuiz}}
        - compare: {jsonpath_mini: "data.user.disable_post", comparator: "str_eq", expected: {template: $DisablePost}}
        - compare: {jsonpath_mini: "data.user.school_name", comparator: "str_eq", expected: {template: $SchoolName}}
        - extract_test: {jsonpath_mini: "data.user.curriculum",  test: "exists"}
        - compare: {jsonpath_mini: "data.user.referral_code", comparator: "str_eq", expected: {template: $ReferralCode}}
        - extract_test: {jsonpath_mini: "data.user.weak_subjects",  test: "exists"}
#Restore Profile data


###############################################################
############## UAT Android Profile testsuite END ##############
###############################################################
############################################################
############## UAT Android QA testsuite START ##############
############################################################
- test:
    - generator_binds: {Message: QuestionMsg}
    - group: "UAT Android QA testsuite"
    - name: "student ask question"
    - url: {template: "/api/v2/students/$SnapaskUID/questions"}
    - method: "POST"
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - body: {template: '{"lang": "en-US","subject_id": "16","description": "$Message"}'}
    - extract_binds:
        - 'QuestionID_1': {'jsonpath_mini': 'data.question.id'}

- test:
    - group: "UAT Android QA testsuite"
    - name: "tutor pick question"
    - url: {template: "/api/v2/tutors/$tut_SnapaskUID/questions/$QuestionID_1/pick"}
    - method: "PATCH"
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $tut_AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - body: {template: '{"lang": "en-US","question_id": "$QuestionID_1"}'}

- test:
    - group: "UAT Android QA testsuite"
    - name: "tutor end question"
    - url: {template: "/api/v2/questions/$QuestionID_1/finish"}
    - method: "PATCH"
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $tut_AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - body: {template: '{"lang": "en-US","question_id": "$QuestionID_1"}'}

- test:
    - generator_binds: {Message: QuestionMsg}
    - group: "UAT Android QA testsuite"
    - name: "student ask question"
    - url: {template: "/api/v2/students/$SnapaskUID/questions"}
    - method: "POST"
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - body: {template: '{"lang": "en-US","subject_id": "16","description": "$Message"}'}
    - extract_binds:
        - 'QuestionID_1': {'jsonpath_mini': 'data.question.id'}

- test:
    - group: "UAT Android QA testsuite"
    - name: "tutor pick question"
    - url: {template: "/api/v2/tutors/$tut_SnapaskUID/questions/$QuestionID_1/pick"}
    - method: "PATCH"
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $tut_AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - body: {template: '{"lang": "en-US","question_id": "$QuestionID_1"}'}

- test:
    - group: "UAT Android QA testsuite"
    - name: "tutor end question"
    - url: {template: "/api/v2/questions/$QuestionID_1/finish"}
    - method: "PATCH"
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $tut_AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - body: {template: '{"lang": "en-US","question_id": "$QuestionID_1"}'}

##########################################################
############## UAT Android QA testsuite END ##############
##########################################################
################################################################
############## UAT Android logout testsuite START ##############
################################################################
- test:
    - group: "UAT Android logout testsuite"
    - name: "student logout"
    - url: {template: "/api/v2/logout"}
    - method: "POST"
    - body: {template: '{"push_platform": "gcm","device_token": "$DeviceToken"}'}
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - validators:
        - compare: {jsonpath_mini: "status", comparator: "str_eq", expected: 'success'}
        - compare: {jsonpath_mini: "data.amazon_sns_info.snapask_uid", comparator: "str_eq", expected: {template: $SnapaskUID}}
        - compare: {jsonpath_mini: "data.amazon_sns_info.platform", comparator: "str_eq", expected: "gcm"}
        - compare: {jsonpath_mini: "data.amazon_sns_info.device_token", comparator: "str_eq", expected: {template: $DeviceToken}}
        - compare: {jsonpath_mini: "data.amazon_sns_info.endpoint_arn", comparator: "str_eq", expected: {template: $EndpointArn}}
        - compare: {jsonpath_mini: "data.amazon_sns_info.platform_application_arn", comparator: "str_eq", expected: {template: $PlatformApplicationArn}}
        - extract_test: {jsonpath_mini: "data.amazon_sns_info.subscribed_topics",  test: "exists"}
        - compare: {jsonpath_mini: "data.amazon_sns_info.subscribed_topics.logout", comparator: "eq", expected: true}
#verify logout. The response data are all about sns push notification, already create a ticket: "[SE-170728-1114] Logout api doesn't clear authorization token" for backend team to modify the logout api. The response data may change after the fix. Please check.

- test:
    - group: "UAT Android logout testsuite"
    - name: "tutor logout"
    - url: {template: "/api/v2/logout"}
    - method: "POST"
    - body: {template: '{"push_platform": "gcm","device_token": "$DeviceToken"}'}
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $tut_AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
#logout tutor

- test:
    - group: "UAT Android logout testsuite"
    - name: "check quota"
    - url: {template: "/api/v2/students/$SnapaskUID/quotas"}
    - method: "GET"
    - headers: {template: {'Content-Type': 'application/json','Snapask-Authorization': 'Bearer $AuthToken','Snapask-User-Agent': '{"device_id":"$DeviceID","os":"android","platform":"app"}','User-Agent': 'okhttp/3.6.0'}}
    - expected_status: [403,404]
#Currently will always be failed if logout api doesn't clear auth token.
##############################################################
############## UAT Android logout testsuite END ##############
##############################################################